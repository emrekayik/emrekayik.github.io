<li class="dropdown w-full">
    <label tabindex="0" role="button" class="btn btn-ghost justify-between w-full">
    <span class="flex items-center gap-2">
      <i class="ai-magic-wand"></i> YazÄ± Tipi
    </span>
        <i class="ai-chevron-down"></i>
    </label>

    <ul tabindex="0" class="dropdown-content z-[1] menu p-3 shadow-xl bg-base-200 rounded-box mt-2">
        <li>
            <div class="flex flex-col gap-2 max-h-96 overflow-y-auto pr-1">
                {% assign fonts = "serif|Antic Slab, serif|Georgia, serif|Arial, sans-serif|Courier New, monospace|Comic
                Sans MS, cursive" | split: "|" %}
                {% for font in fonts %}
                {% assign font_parts = font | split: "," %}
                {% assign font_name = font_parts[0] %}
                {% assign font_family = font_parts[1] %}
                <label class="cursor-pointer">
                    <input type="radio" name="font-dropdown" class="sr-only peer" aria-label="{{ font_name }}"
                           value="{{ font_family }}">
                    <div class="flex items-center justify-between gap-3 rounded-lg border border-base-300 bg-base-100 px-3 py-2 transition-colors peer-checked:border-primary peer-checked:ring-2 peer-checked:ring-primary"
                         style="font-family: {{ font_family }};">
                        <span class="text-base">Aa Bb Cc</span>
                        <span class="text-sm font-medium">{{ font_name }}</span>
                    </div>
                </label>
                {% endfor %}
            </div>
        </li>
    </ul>
</li>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const root = document.documentElement;
        const inputs = document.querySelectorAll('input[name="font-dropdown"]');

        const savedFont = localStorage.getItem("preferredFont");
        if (savedFont) {
            root.style.setProperty("--active-font", savedFont);
            inputs.forEach(inp => {
                if (inp.value === savedFont) inp.checked = true;
            });
        }

        inputs.forEach(inp => {
            inp.addEventListener("change", () => {
                root.style.setProperty("--active-font", inp.value);
                localStorage.setItem("preferredFont", inp.value);
            });
        });
    });
</script>
